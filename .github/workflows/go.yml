name: Go

on:
  push:
    branches:
      - "*"
  pull_request:
    branches:
      - "*"

jobs:
 
  build-and-test:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
    - uses: actions/checkout@v3
    - uses: uraimo/run-on-arch-action@v2
      with:
        arch: aarch64
        distro: ubuntu_latest 
        install: |
            apt-get update
            apt-get install -y build-essential bash openssl go
        env: |
           PATH: $PATH:/usr/local/go/bin
        run: |        
            rm go$GOLANG_VERSION.src.tar.gz
            go build ./...
            go test -v ./...
            


     


 
  

